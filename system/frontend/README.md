# Draft Review Frontend

A React-based frontend for reviewing and editing email drafts generated by the AI support system.

## Features

- **Real-time WebSocket Communication**: Connects to the backend for real-time draft review
- **Multi-Draft Review**: View and compare multiple generated drafts
- **Draft Editing**: Edit drafts inline with syntax highlighting
- **Browser Notifications**: Get notified when new drafts arrive
- **Responsive Design**: Works on desktop and mobile devices
- **Connection Status**: Visual indicators for WebSocket connection status

## Setup

1. **Install dependencies**:
   ```bash
   npm install
   ```

2. **Start the development server**:
   ```bash
   npm start
   ```

3. **Open your browser** and navigate to `http://localhost:3000`

## Usage

1. **Enter User ID**: Set your user ID in the input field at the top
2. **Wait for Drafts**: The system will automatically receive drafts when they're generated
3. **Review Drafts**: Click between different draft tabs to compare options
4. **Edit Drafts**: Use the Edit button to modify the selected draft
5. **Send Final Draft**: Click "Send Final Draft" to submit your choice

## WebSocket Connection

The frontend connects to the backend WebSocket server at:
```
ws://localhost:8000/api/v1/ws/drafts?user_id=your_user_id
```

## Components

### App.tsx
Main application component that handles:
- WebSocket connection management
- Draft data state management
- User notifications

### DraftReviewPanel.tsx
Main review interface that provides:
- Email details display
- Draft selection tabs
- Editing interface
- Final draft submission

### ConnectionStatus.tsx
Visual component showing WebSocket connection status

## Development

### Available Scripts

- `npm start` - Runs the app in development mode
- `npm test` - Launches the test runner
- `npm run build` - Builds the app for production
- `npm run eject` - Ejects from Create React App (use with caution)

### Technologies Used

- **React 18** with TypeScript
- **Tailwind CSS** for styling
- **React Toastify** for notifications
- **Lucide React** for icons
- **WebSocket API** for real-time communication

## Browser Support

- Chrome (latest)
- Firefox (latest)
- Safari (latest)
- Edge (latest)

## Troubleshooting

### WebSocket Connection Issues

1. Ensure the backend server is running on port 8000
2. Check that the WebSocket endpoint is accessible
3. Verify the user_id parameter is correctly set

### Notification Issues

1. Allow notifications in your browser settings
2. The app will request permission on first load

### Build Issues

1. Clear node_modules and reinstall dependencies
2. Check for TypeScript compilation errors
3. Ensure all required dependencies are installed 